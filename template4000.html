<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles.css">
    <title>OneLatex Template</title>
    <script>
        const latexTemplates = [
            {
                title: "Basic Setup",
                description: "Essential packages for document structure, encoding, font settings, and language options.",
                languages: {
                    "english": [
                        "\\usepackage[a4paper,hmargin=3cm,vmargin=3cm]{geometry}",
                        "\\usepackage[utf8]{inputenc}",
                        "\\usepackage[T1]{fontenc}",
                        "\\usepackage[english]{babel}",
                        "\\usepackage{graphicx}",
                        "\\usepackage[colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue, filecolor=black]{hyperref}",
                        "\\urlstyle{same}",
                        "\\usepackage[english]{varioref}",
                        "\\usepackage[noabbrev,english]{cleveref}"
                    ],
                    "german": [
                        "\\usepackage[a4paper,hmargin=3cm,vmargin=3cm]{geometry}",
                        "\\usepackage[utf8]{inputenc}",
                        "\\usepackage[T1]{fontenc}",
                        "\\usepackage[ngerman]{babel}",
                        "\\usepackage{graphicx}",
                        "\\usepackage[colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue, filecolor=black]{hyperref}",
                        "\\urlstyle{same}",
                        "\\usepackage[ngerman]{varioref}",
                        "\\usepackage[noabbrev,german]{cleveref}"
                    ]
                },
                selectedLanguage: "english"
            },
            {
                title: "General Appearance",
                description: "To create a more modern appearance, the template includes four packages...",
                commands: [
                    "\\usepackage{parskip}",
                    "\\usepackage{lmodern}",
                    "\\usepackage[onehalfspacing]{setspace}",
                    "\\usepackage{pifont}"
                ]
            },
            {
                title: "Colors and Frames",
                description: "To enhance the use of colors and framed content in the template, three key commands are included...",
                commands: [
                    "\\usepackage[table,xcdraw]{xcolor}",
                    "\\usepackage{framed}",
                    "\\definecolor{shadecolor}{rgb}{0.7,0.85,1}"
                ]
            },
            {
                title: "Pagination Control",
                description: "The commands \\clubpenalty, \\widowpenalty, and \\displaywidowpenalty control pagination in LaTeX...",
                commands: [
                    "\\clubpenalty = 10000",
                    "\\widowpenalty = 10000",
                    "\\displaywidowpenalty = 10000"
                ]
            },
            {
                title: "Line Breaking Adjustments",
                description: "\\setlength{\\emergencystretch}{2em} increases the flexibility of line breaking in LaTeX...",
                commands: [
                    "\\setlength{\\emergencystretch}{2em}"
                ]
            },
            {
                title: "Section Numbering Depth",
                description: "\\setcounter{secnumdepth}{5} enables numbering for paragraphs and subparagraphs...",
                commands: [
                    "\\setcounter{secnumdepth}{5}"
                ]
            },
            {
                title: "Redefining Paragraphs",
                description: "Redefine \\paragraph and \\subparagraph to be formatted like sections...",
                commands: [
                    "\\makeatletter",
                    "\\renewcommand\\paragraph{\\@startsection{paragraph}{3}{0mm}{-\\baselineskip}{.1\\baselineskip}{\\normalfont\\normalsize\\bfseries}}",
                    "\\renewcommand\\subparagraph{\\@startsection{subparagraph}{4}{0mm}{-\\baselineskip}{.1\\baselineskip}{\\normalfont\\normalsize\\bfseries}}",
                    "\\makeatother"
                ]
            },
            {
                title: "Crefname Adjustments",
                description: "Adjust crefname references for paragraphs and subparagraphs...",
                commands: [
                    "\\crefname{paragraph}{Section}{Sections}",
                    "\\crefname{subparagraph}{Section}{Sections}"
                ]
            },
            {
                title: "Basic Setup2",
                description: "Essential packages for document structure, encoding, font settings, and language options.",
                languages: {
                    "english": [
                        "\\crefname{paragraph}{Section}{Sections}",
                        "\\crefname{subparagraph}{Section}{Sections}"
                    ],
                    "german": [
                        "\\crefname{paragraph}{Abschnitt}{Abschnitte}",
                        "\\crefname{subparagraph}{Abschnitt}{Abschnitte}"
                    ]
                },
                selectedLanguage: "english"
            },
            {
                title: "Basic Setup3",
                description: "Essential packages for document structure, encoding, font settings, and language options.",
                languages: {
                    "english": [
                        "\\usepackage[a4paper,hmargin=3cm,vmargin=3cm]{geometry}",
                        "\\usepackage[utf8]{inputenc}",
                        "\\usepackage[T1]{fontenc}",
                        "\\usepackage[english]{babel}",
                        "\\usepackage{graphicx}",
                        "\\usepackage[colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue, filecolor=black]{hyperref}",
                        "\\urlstyle{same}",
                        "\\usepackage[english]{varioref}",
                        "\\usepackage[noabbrev,english]{cleveref}"
                    ],
                    "german": [
                        "\\usepackage[a4paper,hmargin=3cm,vmargin=3cm]{geometry}",
                        "\\usepackage[utf8]{inputenc}",
                        "\\usepackage[T1]{fontenc}",
                        "\\usepackage[ngerman]{babel}",
                        "\\usepackage{graphicx}",
                        "\\usepackage[colorlinks=true, linkcolor=black, citecolor=black, urlcolor=blue, filecolor=black]{hyperref}",
                        "\\urlstyle{same}",
                        "\\usepackage[ngerman]{varioref}",
                        "\\usepackage[noabbrev,german]{cleveref}"
                    ]
                },
                selectedLanguage: "english"
            }
        ];


        function generateContent() {
            const container = document.getElementById("content-container");
            container.innerHTML = "";

            latexTemplates.forEach((template, index) => {
                let contentHTML = "";
                if (template.languages) {
                    const selectedCommands = template.languages[template.selectedLanguage] || [];
                    contentHTML = `
                        <label for="lang-select-${index}">Select language:</label>
                        <select id="lang-select-${index}" onchange="updateLanguage(${index})">
                            <option value="english" ${template.selectedLanguage === "english" ? "selected" : ""}>English</option>
                            <option value="german" ${template.selectedLanguage === "german" ? "selected" : ""}>Deutsch</option>
                        </select>
                        <div class="info-box">
                            ℹ️ <strong>${template.title}</strong><br>
                            ${template.description}
                        </div>
                        <div class="copy-content" id="CBstring${index}">
                            ${selectedCommands.length > 0 ? selectedCommands.map(cmd => `<p style="margin:0;font-family:Calibri;font-size:11.0pt"><span style="background:#FFC000">${cmd}</span></p>`).join('') : '<p>No commands available</p>'}
                        </div>
                        <button onclick="copyToClipboard('CBstring${index}')">Copy to Clipboard</button>
                    `;
                } else {
                    const commands = template.commands || [];
                    contentHTML = `
                        <div class="info-box">
                            ℹ️ <strong>${template.title}</strong><br>
                            ${template.description}
                        </div>
                        <div class="copy-content" id="CBstring${index}">
                            ${commands.length > 0 ? commands.map(cmd => `<p style="margin:0;font-family:Calibri;font-size:11.0pt"><span style="background:#FFC000">${cmd}</span></p>`).join('') : '<p>No commands available</p>'}
                        </div>
                        <button onclick="copyToClipboard('CBstring${index}')">Copy to Clipboard</button>
                    `;
                }
                container.innerHTML += contentHTML;
            });
        }

        function updateLanguage(index) {
            const selectedLang = document.getElementById(`lang-select-${index}`).value;
            latexTemplates[index].selectedLanguage = selectedLang;
            generateContent();
        }

        async function copyToClipboard(idTemplate) {
            try {
                const CBstring = document.getElementById(idTemplate).innerText;
                await navigator.clipboard.writeText(CBstring);
                showNotification("✅ Text copied successfully!", "success");
            } catch (err) {
                showNotification("❌ Error copying text!", "error");
            }
        }

        function showNotification(message, type) {
            const notification = document.getElementById("notification");
            notification.textContent = message;
            notification.className = type;
            notification.style.display = "block";
            setTimeout(() => {
                notification.style.display = "none";
            }, 3000);
        }
    </script>
</head>

<body onload="generateContent()">
    <div class="container">
        <h1>OneLatex Template</h1>
        <p>Click the button below to copy the template and paste it into OneNote.</p>
        <button><a href="index.html">Back to the homepage</a></button>

        <div id="notification" class="notification"></div>
        <div id="content-container"></div>
    </div>
</body>

</html>